"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5194],{5194:(w,u,o)=>{o.r(u),o.d(u,{AttendancePageModule:()=>L});var h=o(6019),f=o(7537),A=o(5882),m=o(1553),y=o(9417),T=o(1945);const v=[{title:"Check In",type:"field",field:"checkIn"},{title:"Check Out",type:"field",field:"checkOut"},{title:"Late",type:"field",field:"isLate"}],k=["checkIn","checkOut","isLate"];var t=o(3668);function C(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"tr"),t.TgZ(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.qZA(),t.BQk()),2&i){const e=s.$implicit,n=s.index;t.xp6(3),t.Oqu(n+1),t.xp6(2),t.Oqu(e.checkIn),t.xp6(2),t.Oqu(e.checkOut),t.xp6(2),t.Oqu(e.isLate)}}let b=(()=>{class i{constructor(e){this.cdf=e,this.historyList=[],this.ELEMENT_COL=v,this.displayedColumns=k}ngOnInit(){}ngAfterViewInit(){}ngAfterContentChecked(){this.getHistory(),this.cdf.detectChanges()}getHistory(){for(let n=2;n<30;n++)this.historyList[n].checkIn="9:0"+n+" AM",this.historyList[n].checkOut="5:0"+n+" AM",this.historyList[n].isLate="No";this.historyList=[]}actionBtn(e){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-attendance-history"]],viewQuery:function(e,n){if(1&e&&t.Gf(T.I,5),2&e){let c;t.iGM(c=t.CRH())&&(n.matTable=c.first)}},decls:14,vars:1,consts:[[1,"table-responsive","angular-bootstrap-table"],[1,"table","table-head-custom","table-vertical-center"],[4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"table",1),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th"),t._uU(5,"No"),t.qZA(),t.TgZ(6,"th"),t._uU(7,"Check In"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Check Out"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Late"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"tbody"),t.YNc(13,C,10,4,"ng-container",2),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(13),t.Q6J("ngForOf",n.historyList))},directives:[h.sg],styles:[""]}),i})();var q=o(5378);const O=["canvas"],M=[{path:"",component:(()=>{class i{constructor(e){this.modalService=e,this.timerSource=(0,y.H)(1e3,1e3),this.date=new Date,this.gettime=this.date.toLocaleTimeString(),this.test=this.gettime.split(":"),this.check=!0,this.Valid={Hour:9,TYPE:"AM"}}ngOnInit(){this.ctx=this.canvas.nativeElement.getContext("2d"),this.drawClock(),this.timerSubscription=this.timerSource.subscribe(e=>{this.drawClock()}),this.getTime()}ngOnDestroy(){this.timerSubscription&&(this.timerSubscription.unsubscribe(),console.log("timerSubscription.unsubscribe()"))}drawClock(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height);const e=new Date;let n=e.getHours();const c=e.getMinutes(),d=e.getSeconds(),a=n<12?"AM":"PM";n%=12;const g=this.addLeadingZeroWhenNecessary(n)+":"+this.addLeadingZeroWhenNecessary(c)+":"+this.addLeadingZeroWhenNecessary(d)+" "+a;this.ctx.fillStyle="black",this.ctx.font="67px Arial",this.ctx.fillText(g,10,60)}addLeadingZeroWhenNecessary(e){return(e<10?"0":"")+e}getTime(){this.hour=[(0,h.p6)(this.date,"MM-dd-YYYY","en")];var e=this.hour[0].split("-")[1];this.time=this.test[0]+":"+this.test[1],this.todaydate=e+" "+this.date.toLocaleString("en-US",{month:"long"})+" "+this.hour[0].split("-")[2]}checkButton(){if(this.check){this.check=!1,this.checkintime=this.gettime;let e=this.checkintime.split(":"),n=e[0],c=e[1],a=e[2].split(" ")[1];console.log("HH",n,"MM",c,"TYPE",a),n>=this.Valid.Hour&&a==this.Valid.TYPE&&alert("LATE")}else{this.check=!0;const e=new Date;let n=e.getHours();const c=e.getMinutes(),d=e.getSeconds(),a=n<12?"AM":"PM";n%=12;const g=this.addLeadingZeroWhenNecessary(n)+":"+this.addLeadingZeroWhenNecessary(c)+":"+this.addLeadingZeroWhenNecessary(d)+" "+a;this.checkouttime=g;let r=this.checkintime.split(":"),l=this.checkouttime.split(":"),p=l[0]-r[0],Z=l[1]-r[1];console.log("ff",p),console.log("gg",Z),this.workinghour=p+"hr"+Z+"minutes"}}viewHistory(){const e=this.modalService.open(b,{size:"xl",backdrop:!0});e.componentInstance.type="modal",e.result.then(()=>{},n=>{})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(q.FF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-attendance"]],viewQuery:function(e,n){if(1&e&&t.Gf(O,7),2&e){let c;t.iGM(c=t.CRH())&&(n.canvas=c.first)}},decls:34,vars:6,consts:[[1,"12","time"],["width","400","height","70","background-color","red"],["canvas",""],[1,"12","date"],[1,"date"],[1,"12",2,"text-align","center","margin-top","3%"],["type","button",1,"btn","btn-circle","btn-xl",3,"ngClass","click"],["src","./../../../assets/images/finger-icon.png",2,"width","65px"],[2,"color","white","font-weight","600"],[1,"row",2,"margin-top","7%"],[1,"col-4","labelst"],[1,"labelch"],[1,"col-4","labelst",3,"click"],[1,"row",2,"margin-top","3%"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"canvas",1,2),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"span",4),t._uU(5),t.qZA(),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"div",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return n.checkButton()}),t._UZ(9,"img",7),t._UZ(10,"br"),t.TgZ(11,"span",8),t._uU(12),t.qZA(),t.qZA(),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"div",9),t.TgZ(15,"div",10),t.TgZ(16,"span",11),t._uU(17,"Check In Time"),t.qZA(),t.qZA(),t.TgZ(18,"div",10),t.TgZ(19,"span",11),t._uU(20,"Check Out Time"),t.qZA(),t.qZA(),t.TgZ(21,"div",12),t.NdJ("click",function(){return n.viewHistory()}),t.TgZ(22,"span",11),t._uU(23,"Working Hours"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",13),t.TgZ(25,"div",10),t.TgZ(26,"span",11),t._uU(27),t.qZA(),t.qZA(),t.TgZ(28,"div",10),t.TgZ(29,"span",11),t._uU(30),t.qZA(),t.qZA(),t.TgZ(31,"div",10),t.TgZ(32,"span",11),t._uU(33),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(5),t.Oqu(n.todaydate),t.xp6(3),t.Q6J("ngClass",n.check?"in":"out"),t.xp6(4),t.Oqu(n.check?"CHECK IN":"CHECK OUT"),t.xp6(15),t.Oqu(n.checkintime),t.xp6(3),t.Oqu(n.checkouttime),t.xp6(3),t.Oqu(n.workinghour))},directives:[h.mk],styles:[".time[_ngcontent-%COMP%]{text-align:center;font-size:3rem}.date[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem}.labelst[_ngcontent-%COMP%]{text-align:center}.labelch[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.btn-circle.btn-xl[_ngcontent-%COMP%]{width:170px;height:170px;font-size:15px;text-align:center;border-color:#ffebcd}.in[_ngcontent-%COMP%]{background:#3f83d7}.out[_ngcontent-%COMP%]{background:red}canvas[_ngcontent-%COMP%]{background-color:red}"]}),i})()}];let P=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.Bz.forChild(M)],m.Bz]}),i})();var x=o(4136);let L=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[h.ez,f.u5,A.Pc,x.fA,P]]}),i})()}}]);