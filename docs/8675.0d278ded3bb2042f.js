"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8675],{8675:(b,u,a)=>{a.r(u),a.d(u,{UserRegistrationPageModule:()=>y});var l=a(6019),r=a(7537),m=a(5882),c=a(1553),f=a(4762),g=a(1945),e=a(3668),h=a(5378),p=a(7371),Z=a(7842);function v(o,d){1&o&&(e.TgZ(0,"h3",26),e._uU(1,"Create User "),e.qZA())}function w(o,d){1&o&&(e.TgZ(0,"h3",26),e._uU(1,"Edit User Info"),e.qZA())}function C(o,d){1&o&&(e.TgZ(0,"div"),e.TgZ(1,"label",27),e._uU(2,"Password does not match"),e.qZA(),e.qZA())}let A=(()=>{class o{constructor(s,t,i,n){this.modalCtrl=s,this.modal=t,this.database=i,this.cdf=n,this.isCreate=!0,this.isMatch=!1,this.submited=!1,this.userId="",this.date=new Date,this.currentTimeInSeconds=Math.floor(Date.now()/1e3),this.roleOption=[],this.data={}}ngOnInit(){this.getRole(),this.loadForm()}ngAfterViewInit(){this.userId=this.data?this.data.userId:"USER-"+this.currentTimeInSeconds}getRole(){this.database.getData("ROLE").then(s=>{console.log(s),this.roleOption=this.getFormatOpt(s),this.cdf.detectChanges()})}getFormatOpt(s){return s.map(t=>({code:t.roleCode,value:t.roleValue}))}loadForm(){console.log("data",this.data),this.userForm=new r.cw({userId:new r.NI(this.userId||null),userName:new r.NI(this.data?this.data.userName:null,r.kI.required),userPhone:new r.NI(this.data?this.data.userPhone:null,r.kI.required),userEmail:new r.NI(this.data?this.data.userEmail:null,r.kI.required),userRole:new r.NI(this.data?this.data.userRole:null,r.kI.required),password:new r.NI(this.data?this.data.userPassword:null,r.kI.required),confirmPassword:new r.NI(this.data?this.data.confirmPassword:null,r.kI.required),createddate:new r.NI(this.data?this.data.createddate:(0,l.p6)(this.date,"dd-MM-yyyy","en")),updateddate:new r.NI((0,l.p6)(this.date,"dd-MM-yyyy","en"))})}cancel(){this.modal.dismissAll()}createUser(){if(this.userForm.valid&&this.isMatch){let s=Object.assign(Object.assign({},this.userForm.value),{userId:this.userId});this.modal.dismissAll({data:s})}}isControlValid(s){const t=this.userForm.controls[s];return t.valid&&(t.dirty||t.touched)}isControlInvalid(s){const t=this.userForm.controls[s];return t.invalid&&(t.dirty||t.touched)}controlHasError(s,t){const i=this.userForm.controls[t];return i.hasError(s)&&(i.dirty||i.touched)}isControlTouched(s){const t=this.userForm.controls[s];return t.dirty||t.touched}confirmPassword(){if(null!=this.userForm.value.password&&null!=this.userForm.value.confirmPassword){const t=this.userForm.value.password,i=this.userForm.value.confirmpassword;return!(!this.submited||t===i)}if(this.submited)return this.userForm.controls.confirmPassword.invalid}iscomfirmPassword(s,t){const n=this.userForm.controls[t];return this.userForm.controls[s].value==n.value?(this.isMatch=!0,n.hasError("Match")&&(n.dirty||n.touched)):(this.isMatch=!1,n.hasError("Not Match")&&(n.dirty||n.touched))}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(m.IN),e.Y36(h.FF),e.Y36(p.k9),e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-user"]],inputs:{data:"data"},decls:75,vars:48,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4","left-border-image"],["class","card-label",4,"ngIf"],[1,"overlay","overlay-block","cursor-default","modal-body"],["action","#",1,"form",3,"formGroup","ngSubmit"],[1,"row",2,"align-items","center"],[1,"col-sm-12"],[1,"form-group","row"],[1,"col-sm-6","col-form-label"],[1,"col-sm-6"],["type","text","formControlName","userName",1,"form-control","form-control-sm"],[1,"row"],["type","text","formControlName","userPhone",1,"form-control","form-control-sm"],["type","text","formControlName","userEmail",1,"form-control","form-control-sm"],["bindLabel","value","bindValue","code","formControlName","userRole",1,"ng-custom-select","ng-custom-select-sm",3,"items"],[1,"form-group","row","inner-addon","left-addon"],[1,"input-group"],["name","password","id","password-field","name","password","placeholder","Password","autocomplete","off","formControlName","password",1,"pwd-control","form-control","form-control-sm",3,"type"],["alt","show",1,"fas","fa-eye","eye-show",3,"click"],["alt","hide",1,"fas","fa-eye-slash","eye-hide",3,"click"],["name","password","id","password-field","name","confirmPassword","placeholder","Confirm Password","autocomplete","off","formControlName","confirmPassword",1,"pwd-control","form-control","form-control-sm",3,"type"],[4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-primary","btn-elevate",3,"disabled","click"],[1,"card-label"],[1,"error","col-12"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.YNc(3,v,2,0,"h3",3),e.YNc(4,w,2,0,"h3",3),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"form",5),e.NdJ("ngSubmit",function(){return t.createUser()}),e.TgZ(7,"div"),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"label",9),e._uU(12,"Name "),e.TgZ(13,"span"),e._uU(14,"*"),e.qZA(),e.qZA(),e.TgZ(15,"div",10),e._UZ(16,"input",11),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",12),e.TgZ(18,"div",7),e.TgZ(19,"div",8),e.TgZ(20,"label",9),e._uU(21,"Phone "),e.TgZ(22,"span"),e._uU(23,"*"),e.qZA(),e.qZA(),e.TgZ(24,"div",10),e._UZ(25,"input",13),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"div",12),e.TgZ(27,"div",7),e.TgZ(28,"div",8),e.TgZ(29,"label",9),e._uU(30,"Email "),e.TgZ(31,"span"),e._uU(32,"*"),e.qZA(),e.qZA(),e.TgZ(33,"div",10),e._UZ(34,"input",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(35,"div",12),e.TgZ(36,"div",7),e.TgZ(37,"div",8),e.TgZ(38,"label",9),e._uU(39,"Role "),e.TgZ(40,"span"),e._uU(41,"*"),e.qZA(),e.qZA(),e.TgZ(42,"div",10),e._UZ(43,"ng-select",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div"),e.TgZ(45,"div",12),e.TgZ(46,"div",7),e.TgZ(47,"div",16),e.TgZ(48,"label",9),e._uU(49,"Password"),e.TgZ(50,"span"),e._uU(51,"*"),e.qZA(),e.qZA(),e.TgZ(52,"div",10),e.TgZ(53,"div",17),e._UZ(54,"input",18),e.TgZ(55,"i",19),e.NdJ("click",function(){return t.showPassword=!t.showPassword}),e.qZA(),e.TgZ(56,"i",20),e.NdJ("click",function(){return t.showPassword=!t.showPassword}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(57,"div",12),e.TgZ(58,"div",7),e.TgZ(59,"div",16),e.TgZ(60,"label",9),e._uU(61,"Confirm Password"),e.TgZ(62,"span"),e._uU(63,"*"),e.qZA(),e.qZA(),e.TgZ(64,"div",10),e.TgZ(65,"div",17),e._UZ(66,"input",21),e.TgZ(67,"i",19),e.NdJ("click",function(){return t.showConfirmPassword=!t.showConfirmPassword}),e.qZA(),e.TgZ(68,"i",20),e.NdJ("click",function(){return t.showConfirmPassword=!t.showConfirmPassword}),e.qZA(),e.qZA(),e.YNc(69,C,3,0,"div",22),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",23),e.TgZ(71,"button",24),e.NdJ("click",function(){return t.cancel()}),e._uU(72,"Cancel"),e.qZA(),e.TgZ(73,"button",25),e.NdJ("click",function(){return t.createUser()}),e._uU(74,"Save"),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.xp6(3),e.Q6J("ngIf",t.isCreate),e.xp6(1),e.Q6J("ngIf",!t.isCreate),e.xp6(2),e.Q6J("formGroup",t.userForm),e.xp6(10),e.ekj("is-invalid",t.isControlInvalid("userName"))("is-valid",t.isControlValid("userName")),e.xp6(9),e.ekj("is-invalid",t.isControlInvalid("userPhone"))("is-valid",t.isControlValid("userPhone")),e.xp6(9),e.ekj("is-invalid",t.isControlInvalid("userEmail"))("is-valid",t.isControlValid("userEmail")),e.xp6(9),e.ekj("is-invalid",t.isControlInvalid("userRole"))("is-valid",t.isControlValid("userRole")),e.Q6J("items",t.roleOption),e.xp6(11),e.ekj("is-invalid",t.confirmPassword())("is-invalid",t.iscomfirmPassword("password","confirmPassword"))("is-invalid",t.isControlInvalid("password"))("is-valid",t.isControlValid("password")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(1),e.ekj("hide",t.showPassword),e.xp6(1),e.ekj("hide",!t.showPassword),e.xp6(10),e.ekj("is-invalid",t.confirmPassword())("is-invalid",t.iscomfirmPassword("password","confirmPassword"))("is-invalid",t.isControlInvalid("confirmPassword"))("is-valid",t.isControlValid("confirmPassword")),e.Q6J("type",t.showConfirmPassword?"text":"password"),e.xp6(1),e.ekj("hide",t.showConfirmPassword),e.xp6(1),e.ekj("hide",!t.showConfirmPassword),e.xp6(1),e.Q6J("ngIf",!t.isMatch),e.xp6(4),e.Q6J("disabled",t.userForm.invalid))},directives:[l.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,Z.w9],styles:[".error[_ngcontent-%COMP%]{color:red}.hide[_ngcontent-%COMP%]{display:none}.inner-addon[_ngcontent-%COMP%]{position:relative}.input-group[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:0;font-size:.9rem}.inner-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{position:absolute;padding:16px 17px;z-index:100;cursor:pointer}.left-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{right:0px}.right-addon[_ngcontent-%COMP%]   .fas[_ngcontent-%COMP%]{right:0px}.left-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:5px}.right-addon[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:5px}.next-btn[_ngcontent-%COMP%]{overflow:hidden;margin:47px 0 0}.fna-segment[_ngcontent-%COMP%]{margin:0 15px;overflow:hidden}.fna-segment[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:49%;color:#fff;float:left}.fna-segment[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{float:right}@media screen and (min-width: 320px) and (max-width: 460px){.chart-grid[_ngcontent-%COMP%]{width:100%;padding:0!important}.fna-segment[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 461px) and (max-width: 680px){.fna-segment[_ngcontent-%COMP%]{width:100%}}"]}),o})();const P=[{title:"No",type:"field",field:"no",isNo:!0},{title:"User Name",type:"field",field:"userName"},{title:"User Phone ",type:"field",field:"userPhone"},{title:"Email ",type:"field",field:"userEmail"},{title:"Action",type:"action",field:"actions",btn:{edit:!0,delete:!0}}],T=["no","userName","userPhone","userEmail","actions"],U=[{path:"",component:(()=>{class o{constructor(s,t,i,n){this.cdf=s,this.modalCtrl=t,this.modalService=i,this.database=n,this.userList=[],this.ELEMENT_COL=P,this.displayedColumns=T}ngOnInit(){this.getUserList()}getUserList(){this.database.getData("USER").then(s=>{this.userList=s,this.cdf.detectChanges(),this.matTable.reChangeData()})}addNewUser(s){return(0,f.mG)(this,void 0,void 0,function*(){const t=this.modalService.open(A,{size:"lg",backdrop:!1});t.componentInstance.type="modal",t.componentInstance.isCreate=!s,t.componentInstance.data=s,t.result.then(()=>{},i=>{if(i){let n=i.data;s?(this.database.update("USER",n),this.getUserList()):(this.database.create("USER",n),this.getUserList())}})})}actionBtn(s){"edit"==s.cmd?this.addNewUser(s.data):(this.database.remove("USER",s.data.UserCode,"UserCode"),this.getUserList())}}return o.\u0275fac=function(s){return new(s||o)(e.Y36(e.sBO),e.Y36(m.IN),e.Y36(h.FF),e.Y36(p.k9))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-registration"]],viewQuery:function(s,t){if(1&s&&e.Gf(g.I,5),2&s){let i;e.iGM(i=e.CRH())&&(t.matTable=i.first)}},decls:12,vars:3,consts:[[1,"row"],[1,"col-12"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-label","left-border-image"],[1,"card-toolbar"],["type","button",1,"btn","btn-primary",3,"click"],[1,"card-body","customer-card-body"],[3,"data","colum","displayedColumns","emitter"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"h3",5),e._uU(6,"User Registration"),e.qZA(),e.qZA(),e.TgZ(7,"div",6),e.TgZ(8,"button",7),e.NdJ("click",function(){return t.addNewUser()}),e._uU(9," Add New Data "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"div",8),e.TgZ(11,"app-material-table-view",9),e.NdJ("emitter",function(n){return t.actionBtn(n)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&s&&(e.xp6(11),e.Q6J("data",t.userList)("colum",t.ELEMENT_COL)("displayedColumns",t.displayedColumns))},directives:[g.I],styles:[""]}),o})()}];let _=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.Bz.forChild(U)],c.Bz]}),o})();var q=a(4136);let y=(()=>{class o{}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.ez,r.u5,m.Pc,q.fA,_]]}),o})()}}]);